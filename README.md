# Telegram-бот для генерации текста и изображений

Это мой pet-проект, представляющий собой асинхронного Telegram-бота, разработанного с использованием библиотеки `aiogram`. Бот позволяет администраторам генерировать текст с помощью модели `gpt-4o-mini` и изображения с помощью модели `flux`, а затем отправлять результаты в указанный чат. Доступ к боту ограничен списком администраторов, заданных в конфигурации.

## Основные возможности
- **Команды**:
  - `/start` — приветственное сообщение.
  - `/help` — справка по использованию.
  - `/gpt` — запуск генерации текста или изображений.
  - `/cancel` — сброс текущего состояния.
  - `/exit` — сброс состояния и удаление сообщения.
  - `/status` — отладочная информация (в консоли).
- **Генерация контента**:
  - Текст: через модель `gpt-4o-mini`.
  - Изображения: через модель `flux`.
- **Машина состояний (FSM)**: Используется для управления процессом взаимодействия (выбор типа запроса, ввод, обработка, сохранение).
- **Сохранение и отправка**: результаты можно сохранить и отправить в заданный Telegram-чат.
- **Ограничение доступа**: бот работает только для пользователей из списка администраторов.

## Технологии
- **Aiogram** — асинхронный фреймворк для работы с Telegram API.
- **Gpt4free** — библиотека для взаимодействия с моделями `gpt-4o-mini` и `flux`.
- **Redis** — для хранения состояний и данных (развернута в Docker-контейнере)
- **Request** — для запросов к ИИ-моделям.

## Структура проекта
- `main.py` — точка входа, настройка и запуск бота.
- `middlewares`
    - `outer_middleware.py` — middleware для ограничения доступа по списку администраторов.
- `handlers`
    - `command_handlers.py` — обработчики команд (`/start`, `/help`, и т.д.).
    - `user_handlers.py` — логика взаимодействия с пользователем (выбор типа запроса, ввод, отправка).
- `services`
    - `services.py` — функции для работы с AI-моделями (`gpt-4o-mini`, `flux`).
- `config_data`
    - `config.py` — загрузка конфигурации (токен, ID администраторов, ID чата).
- `lexicon`
    - `lexicon.py` — текстовые сообщения для бота.
- `keyboards`
    - `keyboards.py` — клавиатуры для взаимодействия.

## Зависимости
- Python 3.10+
- Библиотеки:
  - `aiogram`
  - `g4f`
  - `requests`
  - `redis`
